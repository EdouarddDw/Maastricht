{% extends "base.html" %}

{% block title %}Employees{% endblock %}

{% block body %}
<div class="container">
    <h2>All Employees</h2>
    <!-- Link to add a new employee -->
    <a href="{{ url_for('add_employee') }}" class="button">Add New Employee</a>

    <ul>
        {% for employee in employees %}
        <li>
            {{ employee.username }} â€” Hours Worked: {{ employee.hours_worked }}

            <!-- Edit Employee (GET link) -->
            <a href="{{ url_for('edit_employee', user_id=employee.id) }}" class="button">Edit</a>

            <!-- Delete Employee (POST form) -->
            <form action="{{ url_for('delete_employee', user_id=employee.id) }}" 
                  method="POST" 
                  style="display:inline;"
                  onsubmit="return confirm('Are you sure you want to delete this employee?');">
                <button type="submit" class="button">Delete</button>
            </form>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
